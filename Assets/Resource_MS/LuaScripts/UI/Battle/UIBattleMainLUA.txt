--界面
UIBattleMainLUA=LUAUIBase:new({
	
	});

function UIBattleMainLUA:Open(params)
	self:AddUIEventListener()
	self:AddEventListener()
	self:Init(params);
end
function UIBattleMainLUA:Init(params)
	self:initParams(params)
	self:initComponent()
	self:initHeadList()
end

function UIBattleMainLUA:initParams(params)
    self._team_self = params.battleData.team_self
	self._team_enemy = params.battleData.team_enemy
	self._list_headItem = {}
	self._list_skillOItem = {}
end

function UIBattleMainLUA:initComponent()

end
--ui组件添加事件
function UIBattleMainLUA:AddUIEventListener( )
	self:AddUIEvent("onclick", self.btn_pause.gameObject, self.onPauseClick)
	self:AddUIEvent("onclick", self.btn_automatic.gameObject, self.onAutomaticClick)
	self:AddUIEvent("onclick", self.btn_speed.gameObject, self.onSpeedClick)
end
--模块添加全局事件
function UIBattleMainLUA:AddEventListener( )
	-- self:AddEvent("EventStringKey", self.EventHandle);
end
--模块移除全局事件
function UIBattleMainLUA:RemoveEventListener( )
	-- self:RemoveEvent("EventStringKey", self.EventHandle);
end
function UIBattleMainLUA:OnCloseMe()
	if(self.view~=nil)then
		if(self.view.isUIMonoItem)then
			self:RemoveItem(self);
		else
			self:CloseUI("UIBattleMain")
		end
	end
end
function UIBattleMainLUA:OnDestroy()
	self:RemoveEventListener()
	UIBattleMainLUA = nil;
end

function UIBattleMainLUA:onPauseClick()
	Logger.log("onPauseClick  ")
end

function UIBattleMainLUA:onAutomaticClick()
	Logger.log("onAutomaticClick  ")
end

function UIBattleMainLUA:onSpeedClick()
	Logger.log("onSpeedClick  ")
end


function UIBattleMainLUA:initHeadList()
	self._list_headItem[Enum.SetUpTeamEnum.TeamPos.left] = self._list_headItem[Enum.SetUpTeamEnum.TeamPos.left] or {}
	local tmpIndex = 1
	for pos, data in pairs(self._team_self.teamMap) do
		if self._list_headItem[Enum.SetUpTeamEnum.TeamPos.left][tmpIndex] == nil then
			local obj = UIUtils:createItem(self.go_heroItem,self.go_modelRoot)
			local headItem = UIBattleHeadItem:new(obj.transform)
			self._list_headItem[Enum.SetUpTeamEnum.TeamPos.left][tmpIndex] = headItem
		end
		self._list_headItem[Enum.SetUpTeamEnum.TeamPos.left][tmpIndex]:setData(pos,data)
	end
end

return UIBattleMainLUA