---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by liuyubao.
--- DateTime: 2021/12/30 17:46
---@class BattleRenderEntityContext
local BattleRenderEntityContext = SimpleClassUtil:class()

function BattleRenderEntityContext:initialize(data)

end
---@param battleManager PVE_Config_Battle_Manager
function BattleRenderEntityContext:init(baseBlackBoard,battleManager)

    self._baseBlackBoard = baseBlackBoard

    self._battleManager = battleManager

    self._list_camp = {
        [Enum_Battle.Camp.CampSelf] = {},
        [Enum_Battle.Camp.CampEnemy] = {},
    }

     self:initCharacters(self._battleManager._battleTeam)
end
---@param battleTeam BattleTeam
function BattleRenderEntityContext:initCharacters(battleTeam)
    --Logger.ErrorTable(battleTeam)
    --local character = BattleRenderCharacter:new()
    --self._list_camp[Enum_Battle.Camp.CampSelf][1] = character
    for i = 1, 5 do
        local character = BattleRenderCharacter:new({
            go_model = battleTeam._map_left_role[tostring(i)].model,
            index = i,
            heroId = "hero101",
        })
        self._list_camp[Enum_Battle.Camp.CampSelf][i] = character
    end



    for i = 1, 5 do
        local character = BattleRenderCharacter:new({
            go_model = battleTeam._map_right_role[tostring(i)].model,
            index = i,
            heroId = "hero101",
        })
        self._list_camp[Enum_Battle.Camp.CampEnemy][i] =  character
    end
end

function BattleRenderEntityContext:update(dt)
    for camp, _campList in pairs(self._list_camp) do
        for index_pos, character in ipairs(_campList) do
            if character and character.update then
                character:update(dt)
            end
        end
    end
end

return BattleRenderEntityContext