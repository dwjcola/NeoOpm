---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by liuyubao.
--- DateTime: 2021/12/24 10:52
--- 判断技能cd
---@class bt_con_cd:ICondition
local bt_con_cd = SimpleClassUtil:class(ICondition)

function bt_con_cd:initData(data)
    self._skillTag = data.skillTag
    self._cdTime = data.cdTime
end
---@param battleManager PVE_Config_Battle_Manager
function bt_con_cd:doCondition(blackBoard,battleManager)
    local skillData = blackBoard._skillData[self._skillTag]
    if skillData then
        if skillData._skill_time_play then
            local time = skillData._skill_time_play + skillData._skill_time_cd
            return battleManager._time >= time and Enum_BT.Node_ResultType.Success or Enum_BT.Node_ResultType.Fail
        else
            Logger.log(" 技能数据 没有播放时间戳  ",tostring(self._skillTag))
            return Enum_BT.Node_ResultType.Success
        end
    else
        Logger.error("黑板没有 技能数据 ",tostring(self._skillTag))
        return Enum_BT.Node_ResultType.Fail
    end
end


return bt_con_cd