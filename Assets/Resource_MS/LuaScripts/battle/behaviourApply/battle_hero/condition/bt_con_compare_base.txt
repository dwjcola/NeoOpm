---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by liuyubao.
--- DateTime: 2021/12/24 10:52
---@class bt_con_compare_base:ICondition
local bt_con_compare_base = SimpleClassUtil:class(ICondition)

function bt_con_compare_base:initData(compareData)
    self._compareType = compareData._compareType
    self._key = compareData._key
    self._compareTargetValue = compareData._compareTargetValue
end

function bt_con_compare_base:doCondition(blackBoard,battleManager)
    --BattleLog.error("===============  ._key == ",self._key)
   local v = blackBoard[self._key]
    if  self._compareType == Enum_BT.CompareType.Bt_Equal then
        return v == self._compareTargetValue and  Enum_BT.Node_ResultType.Success or  Enum_BT.Node_ResultType.Fail
    elseif self._compareType == Enum_BT.CompareType.BT_GreaterThan then
        return v > self._compareTargetValue and  Enum_BT.Node_ResultType.Success or  Enum_BT.Node_ResultType.Fail
    elseif self._compareType == Enum_BT.CompareType.BT_LessThan then
        return v < self._compareTargetValue and  Enum_BT.Node_ResultType.Success or  Enum_BT.Node_ResultType.Fail
    elseif self._compareType == Enum_BT.CompareType.BT_GreaterThanEqual then
        return v >= self._compareTargetValue and  Enum_BT.Node_ResultType.Success or  Enum_BT.Node_ResultType.Fail
    elseif self._compareType == Enum_BT.CompareType.BT_LessThanEqual then
        return v <= self._compareTargetValue and  Enum_BT.Node_ResultType.Success or  Enum_BT.Node_ResultType.Fail
    elseif self._compareType == Enum_BT.CompareType.BT_UnequalTo then
        return v ~= self._compareTargetValue and  Enum_BT.Node_ResultType.Success or  Enum_BT.Node_ResultType.Fail
    else
        BattleLog.error("错误得比较类型 ： ",tostring(self._compareType))
        return Enum_BT.Node_ResultType.Fail
    end

end


return bt_con_compare_base