---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by liuyubao.
--- DateTime: 2021/12/24 10:52
---检查是否有合法的仇恨对象       没有 返回成功
---@class bt_con_enmityTargetCheck:ICondition
local bt_con_enmityTargetCheck = SimpleClassUtil:class(ICondition)

function bt_con_enmityTargetCheck:initData()

end
---@param blackBoard BlackBoard_BattleBase
function bt_con_enmityTargetCheck:doCondition(blackBoard,agent)
    local result = Enum_BT.Node_ResultType.Fail
    if blackBoard._enmityIndex == 0 then
        result = Enum_BT.Node_ResultType.Success
    else
        --- @type BattleEntityContext
        local _entityContext = agent._entityContext
        --- @type BattleCharacter
        local _enemyEntity = _entityContext:getEnemyEntityByIndex(blackBoard._campType,blackBoard._enmityIndex)

        if _enemyEntity == nil or _enemyEntity:getData()._alive == false or  _enemyEntity:getData()._isCanBeSelected == false then
            result = Enum_BT.Node_ResultType.Success
        else
            result = Enum_BT.Node_ResultType.Fail
        end
    end

    self:log("bt_con_enmityTargetCheck  ",result)
    return result
end


return bt_con_enmityTargetCheck