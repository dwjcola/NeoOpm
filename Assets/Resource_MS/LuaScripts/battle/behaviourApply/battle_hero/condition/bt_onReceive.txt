---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by liuyubao.
--- DateTime: 2021/12/24 10:52
---@class bt_onReceive:ICondition
local bt_onReceive = SimpleClassUtil:class(ICondition)

function bt_onReceive:initData(data)
   self._eventId = data.eventId or ""
    if self._eventId and self._eventId ~= "" then
        self._event_Obj =  EventManager:AddListener(self._eventId,self.onReceive,self)
    end
end
---@param blackBoard BlackBoard_BattleBase
function bt_onReceive:doCondition(blackBoard,agent)
    if  self._isReceive then
        self._isReceive = false
        return Enum_BT.Node_ResultType.Success
    else
        return Enum_BT.Node_ResultType.Fail
    end
end

function bt_onReceive:onReceive()
    self._isReceive = true
end

function bt_onReceive:unRegisterEvent()
    EventManager:RemoveListener(self._eventId,self._event_Obj)
end

return bt_onReceive