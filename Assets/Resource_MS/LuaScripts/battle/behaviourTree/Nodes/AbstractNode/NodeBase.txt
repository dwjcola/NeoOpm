---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by liuyubao.
--- DateTime: 2021/12/7 17:56
--- 基础节点
---@class NodeBase : SimpleClassUtil
local NodeBase = SimpleClassUtil:class()

function NodeBase:initialize()
   self:initAttribute()
end

function NodeBase:initAttribute()
   --- 节点类型
   ---@type Enum_BT.Node_Type
   self._nodeType = Enum_BT.Node_Type.Select
   --- 节点序列
   ---@type int
   self._nodeIndex = 0
   --- 节点Id
   ---@type int
   self._nodeId = 0
   --- EntityId
   ---@type int
   self._entityId = 0
   --- 权重
   ---@type int
   self._priority = 0
   --- 节点状态
   ---@type  Enum_BT.Node_Status
   self._nodeStatus =  Enum_BT.Node_Status.Ready

end

function NodeBase:setNodeType(nodeType)
   self._nodeType = nodeType
end

function NodeBase:getNodeType()
   return self._nodeType
end

function NodeBase:setNodeIndex(nodeIndex)
   self._nodeIndex = nodeIndex
end

function NodeBase:getNodeIndex()
   return self._nodeIndex
end

function NodeBase:setNodeId(nodeId)
   self._nodeId = nodeId
end

function NodeBase:getNodeId()
   return self._nodeId
end

function NodeBase:setEntityId(entityId)
   self._entityId = entityId
end

function NodeBase:getEntityId()
   return self._entityId
end

function NodeBase:setPriority(priority)
   self._priority = priority
end

function NodeBase:getPriority()
   return self._priority
end

function NodeBase:setNodeStatus(nodeStatus)
   self._nodeStatus = nodeStatus
end

function NodeBase:getNodeStatus()
   return self._nodeStatus
end

function NodeBase:onEnter()

end

function NodeBase:execute(blackboard,contextManager)
   return Enum_BT.ResultType.Fail
end

function NodeBase:onExit()

end
-- 执行 Execute 的前置方法，在 Execute() 方法的第一行调用
function NodeBase:prePosition()
   if self:getNodeStatus() == Enum_BT.Node_Status.Ready then
      self:setNodeStatus(Enum_BT.Node_Status.Running)
      self:onEnter()
   end
end
-- 执行 Execute 的后置方法，在 Execute() 方法的 return 前调用
function NodeBase:postPosition(resultType)
   if resultType ~= Enum_BT.Node_ResultType.Running then
      self:setNodeStatus( Enum_BT.Node_Status.Ready)
      self:onExit()
   end
end
function NodeBase:log_enter(...)
   Logger.warning(" ########  enter:  ",...)
end

function NodeBase:log(...)
   Logger.warning(" ########  result:  ",...)
end

return NodeBase