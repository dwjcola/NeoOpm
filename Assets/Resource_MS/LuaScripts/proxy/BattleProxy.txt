---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by liuyubao.
--- DateTime: 2021/12/17 17:40
---@class BattleProxy
local BattleProxy = {}

function BattleProxy:Init()

end
---@return BlackBoard
function BattleProxy:GetBlockBoard()
    if self._blackBord == nil then
        self._blackBord = BlackBoard:new()
    end
    return self._blackBord
end

---进入战斗
---@param type Enum_Battle.BattleEntityType
function BattleProxy:EnterBattle(type,data)

    self:GetBlockBoard()._battleEntityType = type
    self:GetBlockBoard()._battleData = BattleUtils:getTestBattleData()

    self._processTree = ProcessUtil:creatMainBattleProcessTree(self:GetBlockBoard())
    self._processTree:setDelegate(function()  self:EndBattle() end)
    self._processTree:start()
end

---结束战斗
function BattleProxy:EndBattle()
    Logger.error(" ****** BattleProxy:EndBattle ****** ")
    self._blackBord = nil

end
--- 退出战斗或者布阵
function BattleProxy:ExitBattle()
    self._processTree:exit()

    self:onClear()
end

function BattleProxy:onClear()
    self._blackBord = nil
    self._processTree = nil
end

function BattleProxy:onDestroy()

end

return BattleProxy

