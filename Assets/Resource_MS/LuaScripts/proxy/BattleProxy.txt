---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by liuyubao.
--- DateTime: 2021/12/17 17:40
---@class BattleProxy
local BattleProxy = {}

function BattleProxy:Init()

end

function BattleProxy:GetData()
    if self._data == nil then
        self._data = {  }
    end
    return  self._data
end

---进入战斗
---@param type Enum_Battle.BattleEntityType
function BattleProxy:EnterBattle(type,data)
    self._data = BattleUtils:getTestBattleData()
    self._data._battleEntityType = type

    self._processTree = ProcessUtil:creatMainBattleProcessTree(self._data)
    self._processTree:setDelegate(function()  self:EndBattle() end)
    self._processTree:start()
end

---结束战斗
function BattleProxy:EndBattle()
    Logger.error(" ****** BattleProxy:EndBattle ****** ")
    self._data = nil

end
--- 退出战斗或者布阵
function BattleProxy:ExitBattle()
    self._processTree:exit()

    self:onClear()
end

function BattleProxy:onClear()
    self._data = nil
    self._processTree = nil
end

function BattleProxy:onDestroy()

end

return BattleProxy

